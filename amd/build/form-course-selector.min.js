/**
 * Course selector adaptor for auto-complete form element.
 *
 * @module     local_solsits/form-course-selector
 * @copyright  2016 Damyon Wiese <damyon@moodle.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @since      3.1
 */
define("local_solsits/form-course-selector",["core/ajax","jquery"],(function(ajax,$){return{processResults:function(selector,data){var results=[],i=0,excludelist=String($(selector).data("exclude")).split(",");for(i=0;i<data.length;i++)-1===excludelist.indexOf(String(data[i].courseid))&&results.push({value:data[i].courseid,label:data[i].label});return results},transport:function(selector,query,success,failure){let currentcourses=document.querySelector("#id_currentcourses");var promises;currentcourses=!!currentcourses&&currentcourses.checked,void 0===query&&(query="");var calls=[{methodname:"local_solsits_search_courses",args:{query:query,currentcourses:currentcourses}}];promises=ajax.call(calls),$.when.apply($.when,promises).done((function(data){success(data)})).fail(failure)}}}));

//# sourceMappingURL=form-course-selector.min.js.map